<html lang="en">
    <head>
        <!--jquery js-->
            <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
        <!-- leaflet files -->
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.css" />
            <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.js"></script>
            <style>
                #myMap {position: absolute; top: 0; bottom: 0; left: 0; right:0;}
          </style>
    
        <!--jQuery UI files-->
            <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css" />
            <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js" integrity="sha256-T0Vest3yCU7pafRw9r+settMBX6JkKN06dqBnpQ8d30=" crossorigin="anonymous"></script>
        <!--jQuery UI Touch js, required for touchscreen use-->
            <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui-touch-punch/0.2.3/jquery.ui.touch-punch.min.js"></script>
            <script src="js/SliderControl.js"></script>
            
        </head>
   <body>
        <div id="myMap"<>/div>
        <script>
            var map1 = L.map ('myMap').setView([42.7316, -84.4728], 12);
           
            L.tileLayer('https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png', {
                attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
           }).addTo(map1);
            var CustomIcon = L.icon.extend({
                options: {
                    iconUrl: 'html/restauranticon.png',
                    iconSize:     [38, 95],
                    iconAnchor:   [22, 94], 
                    popupAnchor:  [-3, -76]
                }
            });
            var dataset1 = [
                {
                    type: 'Feature',
                    geometry: {
                        type: 'Point',
                        coordinates: [-84.5077828, 42.7363966]
                    },
                    properties: {
                        title: 'Frandor Deli',
                        description: '',
                        time: '2020/05/18'
                    }
                },
                {
                    type: 'Feature',
                    geometry: {
                        type: 'Point',
                        coordinates: [-84.59952, 42.7685577]
                    },
                    properties: {
                        title: 'Mijos Diner',
                        description: '',
                        time: '2020/03/23'
                    }
                },
                 {
                    type: 'Feature',
                    geometry: {
                        type: 'Point',
                        coordinates: [-84.6437748, 42.6833809]
                    },
                    properties: {
                        title: 'Fireside Grill',
                        description: '',
                        time: '2020/06/17'
                    }
                },
                {
                    type: 'Feature',
                    geometry: {
                        type: 'Point',
                        coordinates: [-84.5385392, 42.7233794]
                    },
                    properties: {
                        title: 'The Brunch House',
                        description: '',
                        time: '2020/03/16'
                    }
                },
                {
                    type: 'Feature',
                    geometry: {
                        type: 'Point',
                        coordinates: [-84.448033799, 42.7260531]
                    },
                    properties: {
                        title: 'Grand Travers Pie Co.',
                        description: '',
                        time: '2020/11/17'
                    }
                },
                {
                    type: 'Feature',
                    geometry: {
                        type: 'Point',
                        coordinates: [-84.51713078887094, 42.76310327526277]
                    },
                    properties: {
                        title: 'Claddagh Irish Pub',
                        description: '',
                        time: '2020/09/02'
                    }
                },
                {
                    type: 'Feature',
                    geometry: {
                        type: 'Point',
                        coordinates: [-84.51729564654282, 42.76700513349884]
                    },
                    properties: {
                        title: 'Cantina',
                        description: '',
                        time: '2020/03/16'
                    }
                },
                 {
                    type: 'Feature',
                    geometry: {
                        type: 'Point',
                        coordinates: [-84.4130399, 42.7275111]
                    },
                    properties: {
                        title: 'Maru Sushi and Grill',
                        description: '',
                        time: '2021/08/16'
                    }
                },
                {
                    type: 'Feature',
                    geometry: {
                        type: 'Point',
                        coordinates: [-84.6200722, 42.740538]
                    },
                    properties: {
                        title: 'Renos Sports Bar and Grill',
                        description: '',
                        time: '2020/08/03'
                    }
                },
                {
                    type: 'Feature',
                    geometry: {
                        type: 'Point',
                        coordinates: [-84.54736299999999, 42.733258]
                    },
                    properties: {
                        title: 'Taps 25 / Good Slice Pizza',
                        description: '',
                        time: '2020/06/29'
                    }
                },
                {
                    type: 'Feature',
                    geometry: {
                        type: 'Point',
                        coordinates: [-84.4774527, 42.7338493]
                    },
                    properties: {
                        title: 'Espresso Royale',
                        description: '',
                        time: '2020/03/20'
                    }
                },
                {
                    type: 'Feature',
                    geometry: {
                        type: 'Point',
                        coordinates: [-84.5040707, 42.7611334]
                    },
                    properties: {
                        title: 'Espresso Royale',
                        description: '',
                        time: '2020/03/20'
                    }
                },
                {
                    type: 'Feature',
                    geometry: {
                        type: 'Point',
                        coordinates: [-84.64307509999999, 42.7235705]
                    },
                    properties: {
                        title: 'Cops Cafe and Bakery',
                        description: '',
                        time: '2020/03/18'
                    }
                },
                {
                    type: 'Feature',
                    geometry: {
                        type: 'Point',
                        coordinates: [-84.4480337999, 42.7260531]
                    },
                    properties: {
                        title: 'Time Out Play Cafe',
                        description: '',
                        time: '2020/04/30'
                    }
                },
                {
                    type: 'Feature',
                    geometry: {
                        type: 'Point',
                        coordinates: [-84.55188700000001, 42.7318176]
                    },
                    properties: {
                        title: 'For Crepe Sake',
                        description: '',
                        time: '2020/04/01'
                    }
                },
                            ];
            var optionsObject = {
                onEachFeature: onEachFeature
            };
            function onEachFeature (feature, layer) {
               var content = "<div style='clear: both'></div><div><h4>" + feature.properties.title + "</h4><p>" + feature.properties.time + "</p><p>" + feature.properties.description + "</p></div>";
               layer.bindPopup(content, {closeButton: true});
            };
            var group1 = L.geoJSON(dataset1, optionsObject);
            var sliderControl1 = L.control.sliderControl( {
    layer: group1, // REQUIRED
    alwaysShowDate: true, // to make the date box below the slider persistent
    showAllPopups: false, // to show all popups, instead of only one; same as the popup option "autoClose: false"
    showPopups: false // to set it so, when a marker is generated by the slider, its popup doesn't automatically display
});
            
    // Add the slider to the map
map1.addControl(sliderControl1);

// Initialize the slider
sliderControl1.startSlider();
                
                    
       
        </script>

    </body>
</html>
