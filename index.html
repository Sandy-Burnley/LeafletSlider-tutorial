<html lang="en">
    <head>
        <!--jquery js-->
            <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
        <!-- leaflet files -->
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.css" />
            <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.js"></script>
            <style>
                #myMap {position: absolute; top: 0; bottom: 0; left: 0; right:0;}
          </style>
    
        <!--jQuery UI files-->
            <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css" />
            <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js" integrity="sha256-T0Vest3yCU7pafRw9r+settMBX6JkKN06dqBnpQ8d30=" crossorigin="anonymous"></script>
        <!--jQuery UI Touch js, required for touchscreen use-->
            <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui-touch-punch/0.2.3/jquery.ui.touch-punch.min.js"></script>
            <script src="js/SliderControl.js"></script>
            
        </head>
   <body>
        <div id="myMap"<>/div>
        <script>
            var map1 = L.map ('myMap').setView([42.7316, -84.4728], 12);
           
            L.tileLayer('https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png', {
                attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
           }).addTo(map1);
           
            var dataset1 = [
                {
                    type: 'Feature',
                    geometry: {
                        type: 'Point',
                        coordinates: [-84.5077828, 42.7363966]
                    },
                    properties: {
                        title: 'Frandor Deli',
                        description: 'Frandor Deli closed permanently the week of May 18, 2020 due to the COVID-19 pandemic. According to the Lansing State Journal, Frandor Deli had been open for 38 years.',
                        time: '2020/05/18',
                        image: 'html/Frandor_deli.jpg',
                        icon: {
                            iconUrl: 'html/restauranticon.png',
                            iconSize: [25, 41],
                            iconAnchor: [3, 35],
                            popupAnchor: [0, -41],
                            className: 'dot',
                        }
                    }
                },
                {
                    type: 'Feature',
                    geometry: {
                        type: 'Point',
                        coordinates: [-84.59952, 42.7685577]
                    },
                    properties: {
                        title: 'Mijos Diner',
                        description: 'On March 23, 2021, the owners of Mijo’s Diner posted their final message to their customers on the business’s Facebook page: “To all our customers: Carole and I (Tony) want to thank you for your support of the diner over the last 21 years and other Mijo’s restaurants starting all the way back in 1976. We have made the decision to close the doors permanently. This was a difficult choice, but we believe it was the right decision given both the current situation and thinking about the future for Carole and myself. We hope you all continue to support other local businesses. We wish you all good health and thank you all for the memories. Sincerely, Carole and Tony',
                        time: '2020/03/23',
                        image: 'html/Mijos_diner.jpeg',
                        icon: {
                            iconUrl: 'html/restauranticon.png',
                            iconSize: [25, 41],
                            iconAnchor: [3, 35],
                            popupAnchor: [0, -41],
                            className: 'dot',
                        }
                    }
                },
                 {
                    type: 'Feature',
                    geometry: {
                        type: 'Point',
                        coordinates: [-84.6437748, 42.6833809]
                    },
                    properties: {
                        title: 'Fireside Grill',
                        description: 'The owners of the Fireside Grill announced on March 16, 2021 that they would be closing indefinitely due to the COVID-19. A few months later on June 17, 2021, in a series of Facebook posts the restaurant thanked its customers for their support over the last seven years and announced the permanent closure of the restaurant. In an interview with the Lansing State Journal, owner Ed Hall expressed the difficulty owners of restaurants faced during the pandemic: "You’ve got to have a lot of money to weather a sustained shutdown....You’ve got to have deep pockets. You really do.”',
                        time: '2020/06/17',
                        image: 'html/Fireside_grill.jpg',
                        icon: {
                            iconUrl: 'html/restauranticon.png',
                            iconSize: [25, 41],
                            iconAnchor: [3, 35],
                            popupAnchor: [0, -41],
                            className: 'dot',
                        }
                    }
                },
                {
                    type: 'Feature',
                    geometry: {
                        type: 'Point',
                        coordinates: [-84.5385392, 42.7233794]
                    },
                    properties: {
                        title: 'The Brunch House',
                        description: '',
                        time: '2020/03/16',
                        icon: {
                            iconUrl: 'html/restauranticon.png',
                            iconSize: [25, 41],
                            iconAnchor: [3, 35],
                            popupAnchor: [0, -41],
                            className: 'dot',
                        }
                    }
                },
                {
                    type: 'Feature',
                    geometry: {
                        type: 'Point',
                        coordinates: [-84.55253560000, 42.7323427]
                    },
                    properties: {
                        title: 'Grand Traverse Pie Co.',
                        description: 'On November 17, 2021 the Downtown Lansing location of Grand Traverse Pie Company posted a letter to its customers on its Facebook page. “Dear valued Downtown Lansing guests and community members, It is with great sadness that we are temporarily closing our Downtown Lansing Grand Traverse Pie Shop, for the remainder of the year effective Tuesday, November 17 at 3:00 PM. Since 2011, we have valued our special relationship with the Downtown Lansing community. Unfortunately, the impact of COVID-19 has temporarily dampened the normal vibrancy of downtown. Because of this, we will need to put a "pause" on our operations here. We hope to return to serving our loyal downtown guests with our comfort foods, sandwiches, salads, soups, and of course, our Michigan-sourced handmade pies in 2021. Our East Lansing and Okemos shops are still open for carryout, curbside takeout, delivery, and catering. We hope to see you there.”',
                        time: '2020/11/17',
                        image: 'html/Grand_traverse_pie.jpg ',
                        icon: {
                            iconUrl: 'html/restauranticon.png',
                            iconSize: [25, 41],
                            iconAnchor: [3, 35],
                            popupAnchor: [0, -41],
                            className: 'dot',
                        }
                    }
                },
                {
                    type: 'Feature',
                    geometry: {
                        type: 'Point',
                        coordinates: [-84.51713078887094, 42.76310327526277]
                    },
                    properties: {
                        title: 'Claddagh Irish Pub',
                        description: '',
                        time: '2020/09/02',
                        icon: {
                            iconUrl: 'html/restauranticon.png',
                            iconSize: [25, 41],
                            iconAnchor: [3, 35],
                            popupAnchor: [0, -41],
                            className: 'dot',
                        }
                    }
                },
                {
                    type: 'Feature',
                    geometry: {
                        type: 'Point',
                        coordinates: [-84.51729564654282, 42.76700513349884]
                    },
                    properties: {
                        title: 'Cantina',
                        description: '',
                        time: '2020/03/16',
                        icon: {
                            iconUrl: 'html/restauranticon.png',
                            iconSize: [25, 41],
                            iconAnchor: [3, 35],
                            popupAnchor: [0, -41],
                            className: 'dot',
                        }
                    }
                },
                 {
                    type: 'Feature',
                    geometry: {
                        type: 'Point',
                        coordinates: [-84.4130399, 42.7275111]
                    },
                    properties: {
                        title: 'Maru Sushi and Grill',
                        description: '',
                        time: '2021/08/16',
                        icon: {
                            iconUrl: 'html/restauranticon.png',
                            iconSize: [25, 41],
                            iconAnchor: [3, 35],
                            popupAnchor: [0, -41],
                            className: 'dot',
                        }
                    }
                },
                {
                    type: 'Feature',
                    geometry: {
                        type: 'Point',
                        coordinates: [-84.6200722, 42.740538]
                    },
                    properties: {
                        title: 'Renos Sports Bar and Grill',
                        description: '',
                        time: '2020/08/03',
                        icon: {
                            iconUrl: 'html/restauranticon.png',
                            iconSize: [25, 41],
                            iconAnchor: [3, 35],
                            popupAnchor: [0, -41],
                            className: 'dot',
                        }
                    }
                },
                {
                    type: 'Feature',
                    geometry: {
                        type: 'Point',
                        coordinates: [-84.54736299999999, 42.733258]
                    },
                    properties: {
                        title: 'Taps 25 / Good Slice Pizza',
                        description: '',
                        time: '2020/06/29',
                        icon: {
                            iconUrl: 'html/restauranticon.png',
                            iconSize: [25, 41],
                            iconAnchor: [3, 35],
                            popupAnchor: [0, -41],
                            className: 'dot',
                        }
                    }
                },
                {
                    type: 'Feature',
                    geometry: {
                        type: 'Point',
                        coordinates: [-84.4774527, 42.7338493]
                    },
                    properties: {
                        title: 'Espresso Royale',
                        description: '',
                        time: '2020/03/20',
                        icon: {
                            iconUrl: 'html/restauranticon.png',
                            iconSize: [25, 41],
                            iconAnchor: [3, 35],
                            popupAnchor: [0, -41],
                            className: 'dot',
                        }
                    }
                },
                {
                    type: 'Feature',
                    geometry: {
                        type: 'Point',
                        coordinates: [-84.5040707, 42.7611334]
                    },
                    properties: {
                        title: 'Espresso Royale',
                        description: '',
                        time: '2020/03/20',
                        icon: {
                            iconUrl: 'html/restauranticon.png',
                            iconSize: [25, 41],
                            iconAnchor: [3, 35],
                            popupAnchor: [0, -41],
                            className: 'dot',
                        }
                    }
                },
                {
                    type: 'Feature',
                    geometry: {
                        type: 'Point',
                        coordinates: [-84.64307509999999, 42.7235705]
                    },
                    properties: {
                        title: 'Cops Cafe and Bakery',
                        description: '',
                        time: '2020/03/18',
                        icon: {
                            iconUrl: 'html/restauranticon.png',
                            iconSize: [25, 41],
                            iconAnchor: [3, 35],
                            popupAnchor: [0, -41],
                            className: 'dot',
                        }
                    }
                },
                {
                    type: 'Feature',
                    geometry: {
                        type: 'Point',
                        coordinates: [-84.44803379999999, 42.7260531]
                    },
                    properties: {
                        title: 'Time Out Play Cafe',
                        description: '',
                        time: '2020/04/30',
                        icon: {
                            iconUrl: 'html/restauranticon.png',
                            iconSize: [25, 41],
                            iconAnchor: [3, 35],
                            popupAnchor: [0, -41],
                            className: 'dot',
                        }
                    }
                },
                {
                    type: 'Feature',
                    geometry: {
                        type: 'Point',
                        coordinates: [-84.55188700000001, 42.7318176]
                    },
                    properties: {
                        title: 'For Crepe Sake',
                        description: '',
                        time: '2020/04/01',
                        icon: {
                            iconUrl: 'html/restauranticon.png',
                            iconSize: [25, 41],
                            iconAnchor: [3, 35],
                            popupAnchor: [0, -41],
                            className: 'dot',
                        }
                    }
                },
                            ];
            var optionsObject = {
                onEachFeature: onEachFeature
            };
            function onEachFeature (feature, layer) {
               var content = "<div style='clear: both'></div><div style='float: left; padding: 5px; margin-right: 10px'><img style='width: 200px;' src=" + feature.properties.image + " /></div><div><h4>" + feature.properties.title + "</h4><p>" + feature.properties.time + "</p><p>" + feature.properties.description + "</p></div>";
               layer.setIcon(L.icon(feature.properties.icon));
                layer.bindPopup(content, {closeButton: true});
            };
            var group1 = L.geoJSON(dataset1, optionsObject);
            var sliderControl1 = L.control.sliderControl( {
    layer: group1, // REQUIRED
    alwaysShowDate: true, // to make the date box below the slider persistent
    showAllPopups: false, // to show all popups, instead of only one; same as the popup option "autoClose: false"
    showPopups: false // to set it so, when a marker is generated by the slider, its popup doesn't automatically display
});
            
    // Add the slider to the map
map1.addControl(sliderControl1);

// Initialize the slider
sliderControl1.startSlider();
                
                    
       
        </script>

    </body>
</html>
